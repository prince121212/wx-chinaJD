# CLAUDE.md

本文件为 Claude Code (claude.ai/code) 在该仓库中工作提供指导。

## 重要说明

**请务必使用中文进行所有对话和交流。**

## 项目概览

这是一个基于 TDesign 零售模板构建的微信小程序 - 完整的电商小程序，展示了零售黄金链路：商品 → 购物车 → 结算 → 订单。项目使用 TDesign 小程序组件库，包含 28+ 个完整页面，涵盖首页、商品详情、个人中心和售后流程。

## 架构与结构

### 核心架构
- **框架**: 微信小程序 + TDesign UI 组件库
- **语言**: JavaScript (ES6) + WXSS + WXML
- **数据**: 完整购物场景的模拟数据
- **结构**: 分包架构优化加载性能

### 主要目录
- `pages/` - 主要页面（首页、分类、购物车、个人中心）
- `components/` - 可复用自定义组件（商品卡片、筛选器等）
- `services/` - API 服务层，集成模拟数据
- `model/` - 不同业务模块的模拟数据模型
- `utils/` - 通用工具和辅助函数
- `style/` - 全局样式、字体和图标字体定义
- `custom-tab-bar/` - 自定义 tabbar 实现

### 分包结构
应用使用分包加载提升性能：
- `pages/user` - 用户资料和地址管理
- `pages/goods` - 商品列表、详情、搜索、评论
- `pages/order` - 订单管理和售后流程
- `pages/coupon` - 优惠券管理
- `pages/promotion` - 营销活动

### 组件系统
- 大量使用 TDesign 小程序组件
- `components/` 中的自定义组件遵循 TDesign 设计规范
- 组件采用模块化结构：`.js`、`.json`、`.wxml`、`.wxss`

## 开发命令

```bash
# 安装依赖
npm install

# 代码检查
npm run lint

# 检查代码风格
npm run check

# 生成变更日志
npm run changelog
```

## 构建流程
1. 在微信开发者工具中打开项目
2. 在工具中构建 npm 包
3. 在项目设置中启用"使用 npm 模块"

## 代码规范
- **代码检查**: 集成 Prettier 的 ESLint
- **提交规范**: 使用 commitlint 的约定式提交
- **样式规范**: 遵循 TDesign 设计规范的 WXSS
- **组件规范**: 遵循现有 TDesign 组件模式

## 模拟数据系统
项目在 `model/` 和 `services/` 目录中使用复杂的模拟数据系统，模拟真实后端响应。修改数据结构时，需要同时更新模型定义和对应的服务函数。

## 核心功能
- 完整电商流程（浏览 → 购物车 → 结算 → 订单）
- 商品搜索和筛选
- 购物车管理
- 订单管理和售后
- 用户资料和地址管理
- 优惠券系统
- 自定义导航栏